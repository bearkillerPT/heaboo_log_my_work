(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{174:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return k}));var a=n(9),r=n.n(a),o=n(0),l=n.n(o),i=n(6),s=n(5),c=n(17),u=n(37),m=n(43),d=n(3),p=n(41),b=n(47),f=n(66);function C(e){var t=e.navigation,n=Object(o.useState)(""),a=r()(n,2),i=a[0],s=a[1],C=Object(o.useContext)(h);return l.a.createElement(d.a,{style:g.appContainer},l.a.createElement(m.a,null),l.a.createElement(u.a,{style:g.usersContainer},Object.keys(C).map((function(e,n){var a=Object(o.useState)(!1),u=r()(a,2),m=u[0],w=u[1],y=Object(o.useState)(!1),E=r()(y,2),x=E[0],S=E[1],_=Object(o.useState)(e),h=r()(_,2),k=(h[0],h[1],function(){w(!1)});return l.a.createElement(d.a,{style:g.userView,key:n},l.a.createElement(p.a,{style:[g.buttonContainer,{backgroundColor:C[e].admin?"#4D4E4F":x?"green":"red"}],onPress:function(){w(!0)}},l.a.createElement(d.a,null,l.a.createElement(c.a,{style:g.usernameText},e),l.a.createElement(f.a.Container,{visible:m},l.a.createElement(f.a.Title,null,"Inserir password"),l.a.createElement(f.a.Description,null,"Insira a sua password para come\xe7ar!"),l.a.createElement(f.a.Input,{secureTextEntry:!0,onChangeText:function(e){s(e)},keyboardType:"number-pad"}),l.a.createElement(f.a.Button,{label:"OK",onPress:function(){b.a.auth().signInWithEmailAndPassword(e.toLowerCase()+"@log-my-work.pt",i+"99").then((function(){x?(S(!1),b.a.database().ref("users/"+e+"/logs/"+Date.now()).set("Saiu")):C[e].admin?t.push("Admin"):(S(!0),b.a.database().ref("users/"+e+"/logs/"+Date.now()).set("Entrou")),s(""),k()})).catch((function(e){console.log(e)}))}}),l.a.createElement(f.a.Button,{label:"Cancel",onPress:k})))))}))))}var g=s.a.create({appContainer:{display:"flex",flexGrow:1,backgroundColor:"#000"},usersContainer:{display:"flex",flexGrow:1,backgroundColor:"#000"},userView:{padding:10},usernameText:{color:"#fff",textAlign:"center"},buttonContainer:{padding:20,borderRadius:10,justifyContent:"center",alignContent:"center"},timestampView:{padding:10,flex:1,flexDirection:"row",justifyContent:"space-between"},timestampContainer:{},logStateContainer:{}}),w=n(44);function y(e){var t=e.navigation,n=(e.route,Object(o.useContext)(h));return l.a.createElement(d.a,{style:E.web_appContainer},l.a.createElement(m.a,null),l.a.createElement(u.a,{style:E.web_usersContainer},Object.keys(n).map((function(e,a){var i=Object(o.useState)(!1),s=r()(i,2),u=s[0],m=s[1],f=Object(o.useState)(""),C=r()(f,2),g=C[0],y=C[1],x=Object(o.useState)(!1),S=r()(x,2),_=S[0],h=S[1];return l.a.createElement(d.a,{style:E.web_userView,key:a},_&&l.a.createElement(d.a,{style:E.web_passwdInputContainer},l.a.createElement(w.a,{style:E.web_passwdInput,secureTextEntry:!0,onChangeText:function(e){return y(e)}}),l.a.createElement(d.a,{style:{display:"flex",flex:1}},l.a.createElement(p.a,{style:E.web_cancelInputContainer,onPress:function(){return h(!1)}},l.a.createElement(d.a,{style:E.web_cancelInput},l.a.createElement(c.a,{style:E.web_buttonText},"Cancelar"))),l.a.createElement(p.a,{style:E.web_confirmInputContainer,onPress:function(){b.a.auth().signInWithEmailAndPassword(e.toLowerCase()+"@log-my-work.pt",g+"99").then((function(){n[e].admin?t.push("Admin"):(b.a.database().ref("users/"+e+"/logs/"+Date.now()).set(u?"Saiu":"Entrou"),m(!u),h(!1))})).catch((function(e){console.log(e)}))}},l.a.createElement(d.a,{style:E.web_confirmInput},l.a.createElement(c.a,{style:E.web_buttonText},"Confirmar"))))),!_&&l.a.createElement(p.a,{style:[E.web_buttonContainer,{backgroundColor:n[e].admin?"#4D4E4F":u?"green":"red"}],onPress:function(){h(!_)}},l.a.createElement(d.a,null,l.a.createElement(c.a,{style:E.web_usernameText},e))))}))))}var E=s.a.create({web_appContainer:{backgroundColor:"#000",flexGrow:1,justifyContent:"center",alignContent:"center",maxHeight:800},web_usersContainer:{backgroundColor:"#000"},web_userView:{display:"flex",flex:1,padding:10,justifyContent:"space-between",alignContent:"space-between"},web_usernameText:{color:"#fff",textAlign:"center",fontSize:30},web_buttonContainer:{padding:20,borderRadius:10,justifyContent:"center",alignContent:"center"},web_timestampView:{padding:10,flex:1,flexDirection:"row",justifyContent:"space-between"},web_timestampContainer:{},web_logStateContainer:{},web_passwdInput:{flex:1,borderColor:"white",borderWidth:1,color:"#FFF",fontSize:20,marginTop:5},web_passwdInputContainer:{justifyContent:"space-between",alignContent:"space-between",flexDirection:"row",display:"flex"},web_cancelInputContainer:{flex:1,backgroundColor:"red",alignContent:"center",justifyContent:"center",borderRadius:15,paddingHorizontal:40,paddingVertical:6},web_cancelInput:{backgroundColor:"red"},web_confirmInputContainer:{flex:1,backgroundColor:"green",alignContent:"center",justifyContent:"center",borderRadius:15,paddingHorizontal:40,paddingVertical:6},web_confirmInput:{backgroundColor:"green"},web_buttonText:{color:"#fff",textAlign:"center",fontSize:12}}),x=n(152),S=n(265);b.a.apps.length?b.a.app():b.a.initializeApp({apiKey:"AIzaSyA9MV-PgCXfWhnGt-FRHlVIzlvUuRhVmRc",authDomain:"log-my-work-8db34.firebaseapp.com",databaseURL:"https://log-my-work-8db34-default-rtdb.firebaseio.com",projectId:"log-my-work-8db34",storageBucket:"log-my-work-8db34.appspot.com",messagingSenderId:"721021340350",appId:"1:721021340350:web:75b15661f04266d863ecef",measurementId:"G-86K99VSDRW"});var _=Object(S.a)(),h=l.a.createContext({});function k(){var e=Object(o.useState)(),t=r()(e,2),n=t[0],a=t[1];return Object(o.useEffect)((function(){b.a.database().ref("users").once("value").then((function(e){a(e.val())}))}),[]),n?l.a.createElement(h.Provider,{value:n},l.a.createElement(x.a,null,l.a.createElement(_.Navigator,null,"web"!==i.a.OS&&l.a.createElement(_.Screen,{name:"Home",component:C,options:{title:"Registo produ\xe7\xe3o Hoterway",headerStyle:{backgroundColor:"#000"},headerTintColor:"#FFF"}}),"web"===i.a.OS&&l.a.createElement(_.Screen,{name:"Home",component:y,options:{title:"Registo produ\xe7\xe3o Hoterway",headerTitleStyle:{alignSelf:"center"},headerStyle:{backgroundColor:"#000"},headerTintColor:"#FFF"}}),l.a.createElement(_.Screen,{name:"Admin",component:T,options:{title:"Admin",headerTitleStyle:{alignSelf:"center"},headerStyle:{backgroundColor:"#000"},headerTintColor:"#FFF"}}),l.a.createElement(_.Screen,{name:"AdminUser",component:j,options:{title:"Admin",headerTitleStyle:{alignSelf:"center"},headerStyle:{backgroundColor:"#000"},headerTintColor:"#FFF"}})))):l.a.createElement(d.a,null)}function j(e){var t=e.route,n=Object(o.useState)(),a=r()(n,2),i=a[0],s=a[1];if(Object(o.useEffect)((function(){b.a.database().ref("users").once("value").then((function(e){s(e.val())}))}),[]),!i)return l.a.createElement(d.a,{style:I.appContainer},l.a.createElement(m.a,null),l.a.createElement(d.a,{style:I.timestampView},l.a.createElement(c.a,{style:I.usernameText},"Loading...")));var p=t.params.username,f=i[p];return f.logs?l.a.createElement(d.a,{style:I.appContainer},l.a.createElement(m.a,null),l.a.createElement(d.a,{style:I.userView},l.a.createElement(c.a,{style:I.usernameText},p),l.a.createElement(u.a,{style:I.usersContainer},Object.keys(f.logs).map((function(e,t){return l.a.createElement(d.a,{style:I.timestampView,key:t},l.a.createElement(d.a,{style:I.logStateContainer},l.a.createElement(c.a,{style:I.usernameText},f.logs[e])),l.a.createElement(d.a,{style:I.timestampContainer},l.a.createElement(c.a,{style:I.usernameText},new Date(parseInt(e)).toDateString()),l.a.createElement(c.a,{style:I.usernameText},new Date(parseInt(e)).toLocaleTimeString())))}))))):l.a.createElement(d.a,{style:I.appContainer},l.a.createElement(m.a,null),l.a.createElement(d.a,{style:I.timestampView},l.a.createElement(c.a,{style:I.usernameText},"N\xe3o existem logs para o user ",p,"!")))}function T(e){var t=e.navigation,n=Object(o.useContext)(h);return null==n?l.a.createElement(d.a,{style:I.appContainer},l.a.createElement(m.a,null),l.a.createElement(c.a,{style:I.usernameText},"Loading....")):l.a.createElement(d.a,{style:I.appContainer},l.a.createElement(m.a,null),l.a.createElement(u.a,{style:I.usersContainer},Object.keys(n).map((function(e,n){return l.a.createElement(d.a,{style:I.timestampView,key:n},l.a.createElement(p.a,{style:[I.buttonContainer],onPress:function(){t.push("AdminUser",{username:e})}},l.a.createElement(c.a,{style:I.usernameText},e)))}))))}var I=s.a.create({appContainer:{display:"flex",flexGrow:1,backgroundColor:"#000"},usersContainer:{display:"flex",flexGrow:1,backgroundColor:"#000"},userView:{padding:10},usernameText:{color:"#fff",textAlign:"center"},buttonContainer:{padding:20,borderRadius:10,justifyContent:"center",alignContent:"center"},timestampView:{padding:10,flex:1,flexDirection:"row",justifyContent:"space-between"},timestampContainer:{},logStateContainer:{},web_appContainer:{backgroundColor:"#000",flexGrow:1,justifyContent:"center",alignContent:"center",maxHeight:800},web_usersContainer:{backgroundColor:"#000"},web_userView:{display:"flex",flex:1,padding:10,justifyContent:"space-between",alignContent:"space-between"},web_usernameText:{color:"#fff",textAlign:"center",fontSize:30},web_buttonContainer:{padding:20,borderRadius:10,justifyContent:"center",alignContent:"center"},web_timestampView:{padding:10,flex:1,flexDirection:"row",justifyContent:"space-between"},web_timestampContainer:{},web_logStateContainer:{},web_passwdInput:{flex:1,borderColor:"white",borderWidth:1,color:"#FFF",fontSize:20,marginTop:5},web_passwdInputContainer:{justifyContent:"space-between",alignContent:"space-between",flexDirection:"row",display:"flex"},web_cancelInputContainer:{flex:1,backgroundColor:"red",alignContent:"center",justifyContent:"center",borderRadius:15,paddingHorizontal:40,paddingVertical:6},web_cancelInput:{backgroundColor:"red"},web_confirmInputContainer:{flex:1,backgroundColor:"green",alignContent:"center",justifyContent:"center",borderRadius:15,paddingHorizontal:40,paddingVertical:6},web_confirmInput:{backgroundColor:"green"},web_buttonText:{color:"#fff",textAlign:"center",fontSize:12}})},217:function(e,t,n){e.exports=n(261)}},[[217,1,2]]]);
//# sourceMappingURL=app.dc261388.chunk.js.map