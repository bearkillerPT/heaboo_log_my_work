{"version":3,"sources":["screens/mobileApp.tsx","screens/webApp.tsx","App.tsx"],"names":["App","navigation","useState","inputText","setInputText","users","useContext","AppStateContext","View","style","styles","appContainer","StatusBar","ScrollView","usersContainer","Object","keys","map","user","index","visible","setVisible","buttonState","setButtonState","useEffect","logs","length","console","log","handleCancel","userView","key","TouchableOpacity","buttonContainer","backgroundColor","admin","onPress","Text","usernameText","Container","Title","Description","Input","secureTextEntry","onChangeText","text","keyboardType","Button","label","firebase","auth","signInWithEmailAndPassword","toLowerCase","then","database","ref","Date","now","set","push","catch","res","StyleSheet","create","display","flexGrow","padding","color","textAlign","borderRadius","justifyContent","alignContent","timestampView","flex","flexDirection","timestampContainer","logStateContainer","WebApp","route","web_appContainer","web_usersContainer","insertingPasswd","setInsertingPasswd","web_userView","web_buttonContainerAndInput","web_passwdInputContainer","TextInput","web_passwdInput","web_cancelInputContainer","web_cancelInput","web_buttonText","numberOfLines","web_confirmInputContainer","web_confirmInput","web_buttonContainerContainer","web_buttonContainer","web_usernameText","fontSize","web_timestampView","web_timestampContainer","web_logStateContainer","borderColor","overflow","borderWidth","paddingHorizontal","paddingVertical","apps","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Stack","createStackNavigator","React","createContext","AppWrapper","setUsers","once","val","Provider","value","NavigationContainer","Navigator","Platform","OS","Screen","name","component","options","title","headerStyle","headerTintColor","headerTitleStyle","alignSelf","Admin","AdminUser","username","params","timestamp","parseInt","toDateString","toLocaleTimeString","timestampDiffView","maxHeight","marginTop"],"mappings":"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","file":"static/js/app.d0f403b6.chunk.js","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport { StyleSheet, Text, ScrollView, StatusBar, View, TouchableOpacity } from 'react-native';\r\nimport firebase from 'firebase';\r\nimport {AppStateContext} from '../App';\r\nimport Dialog from 'react-native-dialog';\r\n\r\n\r\n\r\nexport default function App({ navigation }) {\r\n  const [inputText, setInputText] = useState(\"\");\r\n  const users = useContext(AppStateContext);\r\n  return (\r\n    <View style={styles.appContainer}>\r\n      <StatusBar />\r\n      <ScrollView style={styles.usersContainer}>\r\n        { \r\n          Object.keys(users).map((user, index) => {\r\n            const [visible, setVisible] = useState(false);\r\n            const [buttonState, setButtonState] = useState(false);\r\n            useEffect(() => {\r\n              if(users[user].logs) {\r\n                users[user].logs[Object.keys(users[user].logs)[(Object.keys(users[user].logs).length - 1)]] == \"Entrou\" ? setButtonState(true) : setButtonState(false);\r\n                console.log(Object.keys(users[user].logs)[(Object.keys(users[user].logs).length - 1)])\r\n\r\n              }\r\n            }, [])\r\n            const showDialog = () => {\r\n              setVisible(true);\r\n            };\r\n\r\n            const handleCancel = () => {\r\n              setVisible(false);\r\n            };\r\n            return (\r\n              <View style={styles.userView} key={index}>\r\n                <TouchableOpacity style={[styles.buttonContainer, {\r\n                  backgroundColor: users[user].admin ? \"#4D4E4F\" : (buttonState ? \"green\" : \"red\")\r\n                }]} onPress={showDialog}>\r\n                  <View>\r\n                    <Text style={styles.usernameText}>{user}</Text>\r\n                    <Dialog.Container visible={visible} >\r\n                      <Dialog.Title>Inserir password</Dialog.Title>\r\n                      <Dialog.Description>\r\n                        Insira a sua password para começar!\r\n                      </Dialog.Description>\r\n                      <Dialog.Input secureTextEntry onChangeText={(text) => { setInputText(text) }} keyboardType='number-pad'></Dialog.Input>\r\n                      <Dialog.Button label=\"OK\" onPress={() => {\r\n                        firebase.auth().signInWithEmailAndPassword(user.toLowerCase() + \"@log-my-work.pt\", inputText + \"99\")\r\n                          .then(()=>{\r\n                            if (buttonState) {\r\n                              setButtonState(false);\r\n                              firebase.database().ref('users/' + user + '/logs/' + Date.now()).set(\r\n                                'Saiu'\r\n                              );\r\n                            }\r\n                            else {\r\n                              if (users[user].admin) {\r\n                                navigation.push('Admin');\r\n                              }\r\n                              else {\r\n                                setButtonState(true);\r\n                                firebase.database().ref('users/' + user + '/logs/' + Date.now()).set(\r\n                                  'Entrou'\r\n                                );\r\n                              }\r\n  \r\n                            }\r\n                          setInputText(\"\");\r\n                          handleCancel();\r\n                          })\r\n                          .catch((res)=>{console.log(res)});\r\n                         \r\n                      }} />\r\n                      <Dialog.Button label=\"Cancel\" onPress={handleCancel} />\r\n                    </Dialog.Container>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              </View>\r\n            );\r\n          })\r\n        }\r\n      </ScrollView>\r\n    </View>\r\n\r\n\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  appContainer: {\r\n    display: 'flex',\r\n    flexGrow: 1,\r\n    backgroundColor: '#000',\r\n  },\r\n  usersContainer: {\r\n    display: 'flex',\r\n    flexGrow: 1,\r\n    backgroundColor: '#000',\r\n  },\r\n  userView: {\r\n    padding: 10,\r\n  },\r\n  usernameText: {\r\n    color: \"#fff\",\r\n    textAlign: 'center',\r\n  },\r\n  buttonContainer: {\r\n    padding: 20,\r\n    borderRadius: 10,\r\n    justifyContent: 'center',\r\n    alignContent: 'center'\r\n  },\r\n  timestampView: {\r\n    padding: 10,\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between'\r\n  },\r\n  timestampContainer: {\r\n\r\n  },\r\n  logStateContainer: {\r\n  }\r\n});\r\n","import firebase from 'firebase';\r\nimport { AppStateContext } from '../App';\r\nimport React, { useState, useContext, useEffect } from 'react';\r\nimport { TextInput, StyleSheet, Text, ScrollView, StatusBar, View, TouchableOpacity } from 'react-native';\r\n\r\nexport default function WebApp({ navigation, route }) {\r\n  const users = useContext(AppStateContext);\r\n  return (\r\n    <View style={styles.web_appContainer}>\r\n      <StatusBar />\r\n      <ScrollView style={styles.web_usersContainer}>\r\n        {\r\n          Object.keys(users).map((user, index) => {\r\n            const [inputText, setInputText] = useState(\"\");\r\n            const [insertingPasswd, setInsertingPasswd] = useState(false);\r\n            const [buttonState, setButtonState] = useState(false);   \r\n            useEffect(() => {\r\n              if(users[user].logs) {\r\n                users[user].logs[Object.keys(users[user].logs)[(Object.keys(users[user].logs).length - 1)]] == \"Entrou\" ? setButtonState(true) : setButtonState(false);\r\n              console.log(Object.keys(users[user].logs)[(Object.keys(users[user].logs).length - 1)])\r\n              }\r\n            }, [])        \r\n            return (\r\n              <View style={styles.web_userView} key={index}>\r\n                {insertingPasswd &&\r\n                  <View style={styles.web_buttonContainerAndInput}>\r\n                    <View style={styles.web_passwdInputContainer}>\r\n                      <TextInput style={styles.web_passwdInput} secureTextEntry onChangeText={(text) => setInputText(text)}>\r\n                      </TextInput>\r\n\r\n                    </View>\r\n                    <View style={{ display: 'flex', flex: 1 }}>\r\n                      <TouchableOpacity style={styles.web_cancelInputContainer} onPress={() => setInsertingPasswd(false)}>\r\n                        <View style={styles.web_cancelInput} >\r\n                          <Text style={styles.web_buttonText} numberOfLines={1} >Cancelar</Text>\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={styles.web_confirmInputContainer} onPress={() => {\r\n                        firebase.auth().signInWithEmailAndPassword(user.toLowerCase() + \"@log-my-work.pt\", inputText + \"99\")\r\n                          .then(() => {\r\n                            if (users[user].admin)\r\n                              navigation.push(\"Admin\")\r\n                            //else{\r\n                            //  firebase.database().ref(\"users/\" + user + \"/logs/\" + Date.now()).set(\r\n                            //    buttonsState ? \"Saiu\" : \"Entrou\" \r\n                            //  );\r\n                            //  buttonsState ? setButtonsState(false) :  setButtonsState(true);\r\n\r\n                            setInsertingPasswd(false);\r\n                            //}\r\n                          })\r\n                          .catch((res) => { console.log(res) });\r\n                      }} >\r\n                        <View style={styles.web_confirmInput} >\r\n                          <Text style={styles.web_buttonText} numberOfLines={1} >Confirmar</Text>\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  </View>\r\n\r\n                }\r\n                {!insertingPasswd &&\r\n                  <View style={styles.web_buttonContainerContainer}>\r\n                    <TouchableOpacity style={[styles.web_buttonContainer, {\r\n                      backgroundColor: users[user].admin ? \"#4D4E4F\" : buttonState ? \"green\" : \"red\"\r\n                    }]} onPress={() => {\r\n                      insertingPasswd ? setInsertingPasswd(false) : setInsertingPasswd(true)\r\n                    }}>\r\n                      <View>\r\n                        <Text style={styles.web_usernameText}>{user}</Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                }\r\n              </View>\r\n            );\r\n          })\r\n        }\r\n      </ScrollView>\r\n    </View>\r\n\r\n\r\n  );\r\n}\r\nconst styles = StyleSheet.create({\r\n  web_appContainer: {\r\n    backgroundColor: '#000',\r\n    flexGrow: 1,\r\n    justifyContent: 'center',\r\n    alignContent: 'center',\r\n  },\r\n  web_usersContainer: {\r\n    backgroundColor: '#000',\r\n    padding: 10,\r\n  },\r\n  web_userView: {\r\n    display: 'flex',\r\n    flex: 1,\r\n    justifyContent: 'space-between',\r\n    alignContent: 'space-between',\r\n  },\r\n  web_usernameText: {\r\n    color: \"#fff\",\r\n    textAlign: 'center',\r\n    fontSize: 30\r\n  },\r\n  web_buttonContainer: {\r\n    flex: 1,\r\n    padding: 20,\r\n    borderRadius: 10,\r\n    justifyContent: 'center',\r\n    alignContent: 'center'\r\n  },\r\n  web_buttonContainerContainer: {\r\n\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    padding: 11.5,\r\n  },\r\n  web_buttonContainerAndInput: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    padding: 20,\r\n    justifyContent: 'center',\r\n    alignContent: 'center'\r\n  },\r\n  web_timestampView: {\r\n    padding: 10,\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between'\r\n  },\r\n  web_timestampContainer: {\r\n\r\n  },\r\n  web_logStateContainer: {\r\n  },\r\n  web_passwdInput: {\r\n    flex: 1,\r\n    borderColor: 'white',\r\n    overflow: 'hidden',\r\n    borderRadius: 10,\r\n    borderWidth: 1,\r\n    color: '#FFF',\r\n    fontSize: 20,\r\n  },\r\n  web_passwdInputContainer: {\r\n    justifyContent: 'space-between',\r\n    alignContent: 'space-between',\r\n    flexDirection: 'row',\r\n    flex: 1\r\n  },\r\n  web_cancelInputContainer: {\r\n    flex: 1,\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 2\r\n  },\r\n  web_cancelInput: {\r\n    flex: 1,\r\n    backgroundColor: 'red',\r\n    alignContent: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 15,\r\n\r\n\r\n  },\r\n  web_confirmInputContainer: {\r\n    flex: 1,\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 2\r\n  },\r\n  web_confirmInput: {\r\n    flex: 1,\r\n    backgroundColor: 'green',\r\n    alignContent: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 15,\r\n  },\r\n  web_buttonText: {\r\n    color: \"#fff\",\r\n    textAlign: 'center',\r\n    fontSize: 20\r\n  },\r\n});\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Platform, Alert, TextInput, StyleSheet, Text, ScrollView, StatusBar, View, TouchableOpacity } from 'react-native';\r\n//import firebase from 'firebase/app';\r\nimport App from './screens/mobileApp';\r\nimport WebApp from './screens/webApp';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createStackNavigator } from '@react-navigation/stack';\r\nimport { createContext } from 'react';\r\nimport firebase from 'firebase'\r\n//export var firebase = require('firebase/app');\r\n//require('firebase/database');\r\n\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyA9MV-PgCXfWhnGt-FRHlVIzlvUuRhVmRc\",\r\n  authDomain: \"log-my-work-8db34.firebaseapp.com\",\r\n  databaseURL: \"https://log-my-work-8db34-default-rtdb.firebaseio.com\",\r\n  projectId: \"log-my-work-8db34\",\r\n  storageBucket: \"log-my-work-8db34.appspot.com\",\r\n  messagingSenderId: \"721021340350\",\r\n  appId: \"1:721021340350:web:75b15661f04266d863ecef\",\r\n  measurementId: \"G-86K99VSDRW\"\r\n};\r\n\r\nif (!firebase.apps.length) {\r\n  firebase.initializeApp(firebaseConfig);\r\n} else {\r\n  firebase.app(); // if already initialized, use that one\r\n}\r\n\r\nconst Stack = createStackNavigator();\r\n\r\nexport const AppStateContext = React.createContext({});\r\nexport default function AppWrapper() {\r\n  const [users, setUsers] = useState();\r\n  useEffect(() => {\r\n    firebase.database().ref(\"users\").once('value').then((res) => { setUsers(res.val()) })\r\n  }\r\n    , []);\r\n  if (!users) return (<View></View>);\r\n  return (\r\n    <AppStateContext.Provider value={users}>\r\n      <NavigationContainer >\r\n        <Stack.Navigator>\r\n          {Platform.OS !== \"web\" &&\r\n            <Stack.Screen name=\"Home\" component={App} options={{\r\n              title: 'Registo produção Hoterway',\r\n              headerStyle: {\r\n                backgroundColor: '#000',\r\n              },\r\n              headerTintColor: '#FFF'\r\n            }} />\r\n          }\r\n          {Platform.OS === \"web\" &&\r\n            <Stack.Screen name=\"Home\" component={WebApp} options={{\r\n              title: 'Registo produção Hoterway',\r\n              headerTitleStyle: { alignSelf: 'center' },\r\n              headerStyle: {\r\n                backgroundColor: '#000',\r\n              },\r\n              headerTintColor: '#FFF',\r\n            }} />\r\n          }\r\n          <Stack.Screen name=\"Admin\" component={Admin} options={{\r\n            title: 'Admin',\r\n            headerTitleStyle: { alignSelf: 'center' },\r\n            headerStyle: {\r\n              backgroundColor: '#000',\r\n            },\r\n            headerTintColor: '#FFF'\r\n          }} />\r\n          <Stack.Screen name=\"AdminUser\" component={AdminUser} options={{\r\n            title: 'Admin',\r\n            headerTitleStyle: { alignSelf: 'center' },\r\n            headerStyle: {\r\n              backgroundColor: '#000',\r\n            },\r\n            headerTintColor: '#FFF'\r\n          }} />\r\n        </Stack.Navigator>\r\n      </NavigationContainer>\r\n    </AppStateContext.Provider>\r\n  );\r\n}\r\n\r\nexport function AdminUser({ route }) {\r\n\r\n  const [users, setUsers] = useState();\r\n  useEffect(() => {\r\n    firebase.database().ref(\"users\").once('value').then((res) => { setUsers(res.val()) })\r\n  }\r\n    , []);\r\n  if (!users) return (\r\n    <View style={styles.appContainer}>\r\n      <StatusBar />\r\n      <View style={styles.timestampView}>\r\n        <Text style={styles.usernameText}>Loading...</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n  const username = route.params.username;\r\n  if (!users[username].logs) return (\r\n    <View style={styles.appContainer}>\r\n      <StatusBar />\r\n      <View style={styles.timestampView}>\r\n        <Text style={styles.usernameText}>Não existem logs para o user {username}!</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n  return (\r\n    <View style={styles.appContainer}>\r\n      <StatusBar />\r\n      <View style={styles.userView}>\r\n        <Text style={styles.usernameText}>{username}</Text>\r\n        <ScrollView style={styles.usersContainer}>{\r\n          Object.keys(users[username].logs).map((timestamp, index) => {\r\n            return (\r\n              <View key={index}>\r\n                <View style={styles.timestampView} >\r\n                  <View style={styles.logStateContainer}>\r\n                    <Text style={styles.usernameText}>{users[username].logs[timestamp]}</Text>\r\n                  </View>\r\n                  <View style={styles.timestampContainer}>\r\n                    <Text style={styles.usernameText}>\r\n                      {new Date(parseInt(timestamp)).toDateString()}\r\n                    </Text>\r\n                    <Text style={styles.usernameText}>\r\n                      {new Date(parseInt(timestamp)).toLocaleTimeString()}\r\n                    </Text>\r\n                  </View>\r\n                </View>\r\n                {users[username].logs[timestamp] == \"Saiu\" &&\r\n                  <View style={styles.timestampDiffView}>\r\n                    <Text style={styles.usernameText}>\r\n                    Tempo de trabalho (minutos): {new Date(parseInt(timestamp) - parseInt(Object.keys(users[username].logs)[index - 1])).toLocaleTimeString()}\r\n                    </Text>\r\n                  </View>\r\n                }\r\n\r\n              </View>\r\n\r\n            );\r\n          }\r\n          )\r\n        }</ScrollView>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nexport function Admin({ navigation }) {\r\n  const users = useContext(AppStateContext);\r\n  if (users == null)\r\n    return (\r\n      <View style={styles.appContainer}>\r\n        <StatusBar />\r\n        <Text style={styles.usernameText}>Loading....</Text>\r\n      </View>\r\n    );\r\n  else\r\n    return (\r\n      <View style={styles.appContainer}>\r\n        <StatusBar />\r\n        <ScrollView style={styles.usersContainer}>{\r\n          Object.keys(users).map((username, index) => {\r\n            return (\r\n              <View style={styles.timestampView} key={index}>\r\n                <TouchableOpacity style={[styles.buttonContainer]} onPress={() => {\r\n                  navigation.push('AdminUser', { username })\r\n                }}>\r\n                  <Text style={styles.usernameText}>{username}</Text>\r\n                </TouchableOpacity>\r\n              </View>\r\n            );\r\n          })\r\n        }</ScrollView>\r\n      </View>\r\n    );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  appContainer: {\r\n    display: 'flex',\r\n    flexGrow: 1,\r\n    backgroundColor: '#000',\r\n  },\r\n  usersContainer: {\r\n    display: 'flex',\r\n    flexGrow: 1,\r\n    backgroundColor: '#000',\r\n  },\r\n  userView: {\r\n    padding: 10,\r\n  },\r\n  usernameText: {\r\n    color: \"#fff\",\r\n    textAlign: 'center',\r\n  },\r\n  buttonContainer: {\r\n    padding: 20,\r\n    borderRadius: 10,\r\n    justifyContent: 'center',\r\n    alignContent: 'center'\r\n  },\r\n  timestampView: {\r\n    padding: 10,\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between'\r\n  },\r\n  timestampDiffView: {\r\n    padding: 10,\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'center'\r\n  },\r\n  timestampContainer: {\r\n\r\n  },\r\n  logStateContainer: {\r\n  },\r\n\r\n\r\n  web_appContainer: {\r\n    backgroundColor: '#000',\r\n    flexGrow: 1,\r\n    justifyContent: 'center',\r\n    alignContent: 'center',\r\n    maxHeight: 800\r\n  },\r\n  web_usersContainer: {\r\n    backgroundColor: '#000',\r\n  },\r\n  web_userView: {\r\n    display: 'flex',\r\n    flex: 1,\r\n    padding: 10,\r\n    justifyContent: 'space-between',\r\n    alignContent: 'space-between',\r\n  },\r\n  web_usernameText: {\r\n    color: \"#fff\",\r\n    textAlign: 'center',\r\n    fontSize: 30\r\n  },\r\n  web_buttonContainer: {\r\n    padding: 20,\r\n    borderRadius: 10,\r\n    justifyContent: 'center',\r\n    alignContent: 'center'\r\n  },\r\n  web_timestampView: {\r\n    padding: 10,\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between'\r\n  },\r\n  web_timestampContainer: {\r\n\r\n  },\r\n  web_logStateContainer: {\r\n  },\r\n  web_passwdInput: {\r\n    flex: 1,\r\n    borderColor: 'white',\r\n    borderWidth: 1,\r\n    color: '#FFF',\r\n    fontSize: 20,\r\n    marginTop: 5\r\n  },\r\n  web_passwdInputContainer: {\r\n    justifyContent: 'space-between',\r\n    alignContent: 'space-between',\r\n    flexDirection: 'row',\r\n    display: 'flex'\r\n  },\r\n  web_cancelInputContainer: {\r\n    flex: 1,\r\n    backgroundColor: 'red',\r\n    alignContent: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 15,\r\n    paddingHorizontal: 40,\r\n    paddingVertical: 6,\r\n  },\r\n  web_cancelInput: {\r\n    backgroundColor: 'red'\r\n\r\n  },\r\n  web_confirmInputContainer: {\r\n    flex: 1,\r\n    backgroundColor: 'green',\r\n    alignContent: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 15,\r\n    paddingHorizontal: 40,\r\n    paddingVertical: 6,\r\n  },\r\n  web_confirmInput: {\r\n    backgroundColor: 'green'\r\n  },\r\n  web_buttonText: {\r\n    color: \"#fff\",\r\n    textAlign: 'center',\r\n    fontSize: 12\r\n  },\r\n});\r\n"],"sourceRoot":""}