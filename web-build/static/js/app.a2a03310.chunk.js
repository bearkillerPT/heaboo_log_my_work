(this.webpackJsonp=this.webpackJsonp||[]).push([[0],{174:function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return j}));var a=n(9),r=n.n(a),o=n(0),l=n.n(o),i=n(6),s=n(5),c=n(17),u=n(37),d=n(43),m=n(3),p=n(41),b=n(51),f=n(66);function C(e){var t=e.navigation,n=Object(o.useState)(""),a=r()(n,2),i=a[0],s=a[1],C=Object(o.useContext)(h);return l.a.createElement(m.a,{style:w.appContainer},l.a.createElement(d.a,null),l.a.createElement(u.a,{style:w.usersContainer},Object.keys(C).map((function(e,n){var a=Object(o.useState)(!1),u=r()(a,2),d=u[0],g=u[1],y=Object(o.useState)(!1),x=r()(y,2),E=x[0],_=x[1],S=Object(o.useState)(e),h=r()(S,2),j=(h[0],h[1],function(){g(!1)});return l.a.createElement(m.a,{style:w.userView,key:n},l.a.createElement(p.a,{style:[w.buttonContainer,{backgroundColor:C[e].admin?"#4D4E4F":E?"green":"red"}],onPress:function(){g(!0)}},l.a.createElement(m.a,null,l.a.createElement(c.a,{style:w.usernameText},e),l.a.createElement(f.a.Container,{visible:d},l.a.createElement(f.a.Title,null,"Inserir password"),l.a.createElement(f.a.Description,null,"Insira a sua password para come\xe7ar!"),l.a.createElement(f.a.Input,{secureTextEntry:!0,onChangeText:function(e){s(e)},keyboardType:"number-pad"}),l.a.createElement(f.a.Button,{label:"OK",onPress:function(){b.a.auth().signInWithEmailAndPassword(e.toLowerCase()+"@log-my-work.pt",i+"99").then((function(){E?(_(!1),b.a.database().ref("users/"+e+"/logs/"+Date.now()).set("Saiu")):C[e].admin?t.push("Admin"):(_(!0),b.a.database().ref("users/"+e+"/logs/"+Date.now()).set("Entrou")),s(""),j()})).catch((function(e){console.log(e)}))}}),l.a.createElement(f.a.Button,{label:"Cancel",onPress:j})))))}))))}var w=s.a.create({appContainer:{display:"flex",flexGrow:1,backgroundColor:"#000"},usersContainer:{display:"flex",flexGrow:1,backgroundColor:"#000"},userView:{padding:10},usernameText:{color:"#fff",textAlign:"center"},buttonContainer:{padding:20,borderRadius:10,justifyContent:"center",alignContent:"center"},timestampView:{padding:10,flex:1,flexDirection:"row",justifyContent:"space-between"},timestampContainer:{},logStateContainer:{}}),g=n(44);function y(e){var t=e.navigation,n=(e.route,Object(o.useContext)(h));return l.a.createElement(m.a,{style:x.web_appContainer},l.a.createElement(d.a,null),l.a.createElement(u.a,{style:x.web_usersContainer},Object.keys(n).map((function(e,a){var i=Object(o.useState)(!1),s=r()(i,2),u=s[0],d=(s[1],Object(o.useState)("")),f=r()(d,2),C=f[0],w=f[1],y=Object(o.useState)(!1),E=r()(y,2),_=E[0],S=E[1];return l.a.createElement(m.a,{style:x.web_userView,key:a},_&&l.a.createElement(m.a,{style:x.web_buttonContainerAndInput},l.a.createElement(m.a,{style:x.web_passwdInputContainer},l.a.createElement(g.a,{style:x.web_passwdInput,secureTextEntry:!0,onChangeText:function(e){return w(e)}})),l.a.createElement(m.a,{style:{display:"flex",flex:1}},l.a.createElement(p.a,{style:x.web_cancelInputContainer,onPress:function(){return S(!1)}},l.a.createElement(m.a,{style:x.web_cancelInput},l.a.createElement(c.a,{style:x.web_buttonText,numberOfLines:1},"Cancelar"))),l.a.createElement(p.a,{style:x.web_confirmInputContainer,onPress:function(){b.a.auth().signInWithEmailAndPassword(e.toLowerCase()+"@log-my-work.pt",C+"99").then((function(){n[e].admin&&t.push("Admin"),S(!1)})).catch((function(e){console.log(e)}))}},l.a.createElement(m.a,{style:x.web_confirmInput},l.a.createElement(c.a,{style:x.web_buttonText,numberOfLines:1},"Confirmar"))))),!_&&l.a.createElement(m.a,{style:x.web_buttonContainerContainer},l.a.createElement(p.a,{style:[x.web_buttonContainer,{backgroundColor:n[e].admin?"#4D4E4F":u?"green":"red"}],onPress:function(){S(!_)}},l.a.createElement(m.a,null,l.a.createElement(c.a,{style:x.web_usernameText},e)))))}))))}var x=s.a.create({web_appContainer:{backgroundColor:"#000",flexGrow:1,justifyContent:"center",alignContent:"center"},web_usersContainer:{backgroundColor:"#000",padding:10},web_userView:{display:"flex",flex:1,justifyContent:"space-between",alignContent:"space-between"},web_usernameText:{color:"#fff",textAlign:"center",fontSize:30},web_buttonContainer:{flex:1,padding:20,borderRadius:10,justifyContent:"center",alignContent:"center"},web_buttonContainerContainer:{display:"flex",flexDirection:"row",padding:11.5},web_buttonContainerAndInput:{display:"flex",flexDirection:"row",padding:20,justifyContent:"center",alignContent:"center"},web_timestampView:{padding:10,flex:1,flexDirection:"row",justifyContent:"space-between"},web_timestampContainer:{},web_logStateContainer:{},web_passwdInput:{flex:1,borderColor:"white",overflow:"hidden",borderRadius:10,borderWidth:1,color:"#FFF",fontSize:20},web_passwdInputContainer:{justifyContent:"space-between",alignContent:"space-between",flexDirection:"row",flex:1},web_cancelInputContainer:{flex:1,paddingHorizontal:20,paddingVertical:2},web_cancelInput:{flex:1,backgroundColor:"red",alignContent:"center",justifyContent:"center",borderRadius:15},web_confirmInputContainer:{flex:1,paddingHorizontal:20,paddingVertical:2},web_confirmInput:{flex:1,backgroundColor:"green",alignContent:"center",justifyContent:"center",borderRadius:15},web_buttonText:{color:"#fff",textAlign:"center",fontSize:20}}),E=n(152),_=n(265);b.a.apps.length?b.a.app():b.a.initializeApp({apiKey:"AIzaSyA9MV-PgCXfWhnGt-FRHlVIzlvUuRhVmRc",authDomain:"log-my-work-8db34.firebaseapp.com",databaseURL:"https://log-my-work-8db34-default-rtdb.firebaseio.com",projectId:"log-my-work-8db34",storageBucket:"log-my-work-8db34.appspot.com",messagingSenderId:"721021340350",appId:"1:721021340350:web:75b15661f04266d863ecef",measurementId:"G-86K99VSDRW"});var S=Object(_.a)(),h=l.a.createContext({});function j(){var e=Object(o.useState)(),t=r()(e,2),n=t[0],a=t[1];return Object(o.useEffect)((function(){b.a.database().ref("users").once("value").then((function(e){a(e.val())}))}),[]),n?l.a.createElement(h.Provider,{value:n},l.a.createElement(E.a,null,l.a.createElement(S.Navigator,null,"web"!==i.a.OS&&l.a.createElement(S.Screen,{name:"Home",component:C,options:{title:"Registo produ\xe7\xe3o Hoterway",headerStyle:{backgroundColor:"#000"},headerTintColor:"#FFF"}}),"web"===i.a.OS&&l.a.createElement(S.Screen,{name:"Home",component:y,options:{title:"Registo produ\xe7\xe3o Hoterway",headerTitleStyle:{alignSelf:"center"},headerStyle:{backgroundColor:"#000"},headerTintColor:"#FFF"}}),l.a.createElement(S.Screen,{name:"Admin",component:I,options:{title:"Admin",headerTitleStyle:{alignSelf:"center"},headerStyle:{backgroundColor:"#000"},headerTintColor:"#FFF"}}),l.a.createElement(S.Screen,{name:"AdminUser",component:k,options:{title:"Admin",headerTitleStyle:{alignSelf:"center"},headerStyle:{backgroundColor:"#000"},headerTintColor:"#FFF"}})))):l.a.createElement(m.a,null)}function k(e){var t=e.route,n=Object(o.useState)(),a=r()(n,2),i=a[0],s=a[1];if(Object(o.useEffect)((function(){b.a.database().ref("users").once("value").then((function(e){s(e.val())}))}),[]),!i)return l.a.createElement(m.a,{style:T.appContainer},l.a.createElement(d.a,null),l.a.createElement(m.a,{style:T.timestampView},l.a.createElement(c.a,{style:T.usernameText},"Loading...")));var p=t.params.username,f=i[p];return f.logs?l.a.createElement(m.a,{style:T.appContainer},l.a.createElement(d.a,null),l.a.createElement(m.a,{style:T.userView},l.a.createElement(c.a,{style:T.usernameText},p),l.a.createElement(u.a,{style:T.usersContainer},Object.keys(f.logs).map((function(e,t){return l.a.createElement(m.a,{style:T.timestampView,key:t},l.a.createElement(m.a,{style:T.logStateContainer},l.a.createElement(c.a,{style:T.usernameText},f.logs[e])),l.a.createElement(m.a,{style:T.timestampContainer},l.a.createElement(c.a,{style:T.usernameText},new Date(parseInt(e)).toDateString()),l.a.createElement(c.a,{style:T.usernameText},new Date(parseInt(e)).toLocaleTimeString())))}))))):l.a.createElement(m.a,{style:T.appContainer},l.a.createElement(d.a,null),l.a.createElement(m.a,{style:T.timestampView},l.a.createElement(c.a,{style:T.usernameText},"N\xe3o existem logs para o user ",p,"!")))}function I(e){var t=e.navigation,n=Object(o.useContext)(h);return null==n?l.a.createElement(m.a,{style:T.appContainer},l.a.createElement(d.a,null),l.a.createElement(c.a,{style:T.usernameText},"Loading....")):l.a.createElement(m.a,{style:T.appContainer},l.a.createElement(d.a,null),l.a.createElement(u.a,{style:T.usersContainer},Object.keys(n).map((function(e,n){return l.a.createElement(m.a,{style:T.timestampView,key:n},l.a.createElement(p.a,{style:[T.buttonContainer],onPress:function(){t.push("AdminUser",{username:e})}},l.a.createElement(c.a,{style:T.usernameText},e)))}))))}var T=s.a.create({appContainer:{display:"flex",flexGrow:1,backgroundColor:"#000"},usersContainer:{display:"flex",flexGrow:1,backgroundColor:"#000"},userView:{padding:10},usernameText:{color:"#fff",textAlign:"center"},buttonContainer:{padding:20,borderRadius:10,justifyContent:"center",alignContent:"center"},timestampView:{padding:10,flex:1,flexDirection:"row",justifyContent:"space-between"},timestampContainer:{},logStateContainer:{},web_appContainer:{backgroundColor:"#000",flexGrow:1,justifyContent:"center",alignContent:"center",maxHeight:800},web_usersContainer:{backgroundColor:"#000"},web_userView:{display:"flex",flex:1,padding:10,justifyContent:"space-between",alignContent:"space-between"},web_usernameText:{color:"#fff",textAlign:"center",fontSize:30},web_buttonContainer:{padding:20,borderRadius:10,justifyContent:"center",alignContent:"center"},web_timestampView:{padding:10,flex:1,flexDirection:"row",justifyContent:"space-between"},web_timestampContainer:{},web_logStateContainer:{},web_passwdInput:{flex:1,borderColor:"white",borderWidth:1,color:"#FFF",fontSize:20,marginTop:5},web_passwdInputContainer:{justifyContent:"space-between",alignContent:"space-between",flexDirection:"row",display:"flex"},web_cancelInputContainer:{flex:1,backgroundColor:"red",alignContent:"center",justifyContent:"center",borderRadius:15,paddingHorizontal:40,paddingVertical:6},web_cancelInput:{backgroundColor:"red"},web_confirmInputContainer:{flex:1,backgroundColor:"green",alignContent:"center",justifyContent:"center",borderRadius:15,paddingHorizontal:40,paddingVertical:6},web_confirmInput:{backgroundColor:"green"},web_buttonText:{color:"#fff",textAlign:"center",fontSize:12}})},217:function(e,t,n){e.exports=n(261)}},[[217,1,2]]]);
//# sourceMappingURL=app.a2a03310.chunk.js.map