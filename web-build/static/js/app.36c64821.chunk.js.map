{"version":3,"sources":["screens/mobileApp.tsx","screens/webApp.tsx","App.tsx","firebaseConfig.js"],"names":["App","navigation","useState","inputText","setInputText","users","useContext","AppStateContext","View","style","styles","appContainer","StatusBar","ScrollView","usersContainer","keyboardShouldPersistTaps","Object","keys","map","user","index","visible","setVisible","buttonState","setButtonState","useEffect","logs","length","handleCancel","handleLogin","firebase","database","ref","Date","now","set","userView","key","TouchableOpacity","buttonContainer","backgroundColor","admin","onPress","Text","web_usernameText","Container","Title","Description","Input","autoFocus","secureTextEntry","onChangeText","text","auth","signInWithEmailAndPassword","toLowerCase","then","push","catch","res","console","log","keyboardType","Button","label","StyleSheet","create","display","flexGrow","padding","usernameText","color","textAlign","fontSize","borderRadius","justifyContent","alignContent","timestampView","flex","flexDirection","timestampContainer","logStateContainer","WebApp","route","web_appContainer","web_usersContainer","insertingPasswd","setInsertingPasswd","web_userView","web_buttonContainerAndInput","web_passwdInputContainer","TextInput","web_passwdInput","web_confirmInputContainer","web_confirmInput","web_buttonText","numberOfLines","web_cancelInputContainer","web_cancelInput","web_buttonContainerContainer","web_buttonContainer","web_timestampView","web_timestampContainer","web_logStateContainer","borderColor","overflow","borderWidth","paddingHorizontal","paddingVertical","apps","app","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","Stack","createStackNavigator","React","createContext","AppWrapper","setUsers","usersCount","setUsersCount","on","b","val","Restart","Provider","value","NavigationContainer","Navigator","Platform","OS","Screen","name","component","options","title","headerStyle","headerTintColor","headerTitleStyle","alignSelf","Admin","headerBackTitle","headerTitleContainerStyle","left","AdminUserDays","AdminUserDay","AdminAddUser","username","params","lastDay","daysArray","timestamp","lastDayDate","parseInt","timestampDate","getDate","getMonth","getFullYear","reverse","day","getTime","toLocaleDateString","filter","dayArray","interval","Math","abs","hours","floor","minutes","seconds","timestampViewContainer","toDateString","toLocaleTimeString","timestampDiffView","borderBottomWidth","borderBottomColor","workHoursText","useLayoutEffect","setOptions","headerLeft","HeaderBackButton","signOut","goBack","done","setUsername","password","setPassword","KeyboardAvoidingView","behavior","registerContainer","paddingBottom","createUserWithEmailAndPassword","uid","setTimeout","maxHeight","marginTop"],"mappings":"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","file":"static/js/app.36c64821.chunk.js","sourcesContent":["import React, { useState, useContext, useEffect, createRef } from 'react';\r\nimport { StyleSheet, Text, ScrollView, StatusBar, View, TouchableOpacity, InteractionManager } from 'react-native';\r\nimport firebase from 'firebase';\r\nimport { AppStateContext } from '../App';\r\nimport Dialog from 'react-native-dialog';\r\n\r\n\r\n\r\nexport default function App({ navigation }) {\r\n  const [inputText, setInputText] = useState(\"\");\r\n  const users = useContext(AppStateContext);\r\n  return (\r\n    <View style={styles.appContainer} >\r\n      <StatusBar />\r\n      <ScrollView style={styles.usersContainer} keyboardShouldPersistTaps={'handled'}>\r\n        {\r\n          Object.keys(users).map((user, index) => {\r\n            const [visible, setVisible] = useState(false);\r\n            const [buttonState, setButtonState] = useState(false);\r\n            useEffect(() => {\r\n              if (users[user].logs) {\r\n                users[user].logs[Object.keys(users[user].logs)[(Object.keys(users[user].logs).length - 1)]] == \"Entrou\" ? setButtonState(true) : setButtonState(false);\r\n              }\r\n            }, [users])\r\n            const showDialog = () => {\r\n              setVisible(true);\r\n            };\r\n\r\n            const handleCancel = () => {\r\n              setVisible(false);\r\n            };\r\n            const handleLogin = (user) => {\r\n              setButtonState(true);\r\n              firebase.database().ref('users/' + user + '/logs/' + Date.now()).set(\r\n                'Entrou'\r\n              );\r\n            }\r\n            return (\r\n              <View style={styles.userView} key={index}>\r\n                <TouchableOpacity style={[styles.buttonContainer, {\r\n                  backgroundColor: users[user].admin ? \"#7E7E7E\" : buttonState ? \"#14CE95\" : \"#EB5C52\"\r\n                }]} onPress={showDialog}>\r\n                  <View>\r\n                    <Text style={styles.web_usernameText}>{user}</Text>\r\n                    <Dialog.Container visible={visible} >\r\n                      <Dialog.Title>Inserir password</Dialog.Title>\r\n                      <Dialog.Description>\r\n                        Insira a sua password para começar!\r\n                      </Dialog.Description>\r\n                      <Dialog.Input autoFocus secureTextEntry onChangeText={(text) => {\r\n                        setInputText(text);\r\n                        if (text.length > 3) {\r\n                          firebase.auth().signInWithEmailAndPassword(user.toLowerCase() + \"@log-my-work.pt\", text + \"99\")\r\n                          .then(() => {\r\n                            if (buttonState) {\r\n                              setButtonState(false);\r\n                              firebase.database().ref('users/' + user + '/logs/' + Date.now()).set(\r\n                                'Saiu'\r\n                              );\r\n                            }\r\n                            else {\r\n                              if (users[user].admin) {\r\n                                navigation.push('Admin');\r\n                              }\r\n                              else {\r\n                                handleLogin(user);\r\n                              }\r\n\r\n                            }\r\n                            setInputText(\"\");\r\n                            handleCancel();\r\n                          })\r\n                          .catch((res) => { console.log(res) });\r\n\r\n                          \r\n                        }\r\n                      }} keyboardType='number-pad'></Dialog.Input>\r\n                      <Dialog.Button label=\"OK\" onPress={() => {\r\n                        firebase.auth().signInWithEmailAndPassword(user.toLowerCase() + \"@log-my-work.pt\", inputText + \"99\")\r\n                          .then(() => {\r\n                            if (buttonState) {\r\n                              setButtonState(false);\r\n                              firebase.database().ref('users/' + user + '/logs/' + Date.now()).set(\r\n                                'Saiu'\r\n                              );\r\n                            }\r\n                            else {\r\n                              if (users[user].admin) {\r\n                                navigation.push('Admin');\r\n                              }\r\n                              else {\r\n                                handleLogin(user);\r\n                              }\r\n\r\n                            }\r\n                            setInputText(\"\");\r\n                            handleCancel();\r\n                          })\r\n                          .catch((res) => { console.log(res) });\r\n\r\n                      }} />\r\n                      <Dialog.Button label=\"Cancel\" onPress={handleCancel} />\r\n                    </Dialog.Container>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              </View>\r\n            );\r\n          })\r\n        }\r\n      </ScrollView>\r\n    </View>\r\n\r\n\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  appContainer: {\r\n    display: 'flex',\r\n    flexGrow: 1,\r\n    backgroundColor: '#000',\r\n  },\r\n  usersContainer: {\r\n    display: 'flex',\r\n    flexGrow: 1,\r\n    backgroundColor: '#313131',\r\n  },\r\n  userView: {\r\n    padding: 10,\r\n  },\r\n  usernameText: {\r\n    color: \"#fff\",\r\n    textAlign: 'center',\r\n  },\r\n  web_usernameText: {\r\n    color: \"#fff\",\r\n    textAlign: 'center',\r\n    fontSize: 30\r\n  },\r\n  buttonContainer: {\r\n    padding: 20,\r\n    borderRadius: 10,\r\n    justifyContent: 'center',\r\n    alignContent: 'center'\r\n  },\r\n  timestampView: {\r\n    padding: 10,\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between'\r\n  },\r\n  timestampContainer: {\r\n\r\n  },\r\n  logStateContainer: {\r\n  }\r\n});\r\n","import firebase from 'firebase';\r\nimport { AppStateContext } from '../App';\r\nimport React, { useState, useContext, useEffect } from 'react';\r\nimport { TextInput, StyleSheet, Text, ScrollView, StatusBar, View, TouchableOpacity } from 'react-native';\r\n\r\nexport default function WebApp({ navigation, route }) {\r\n  const users = useContext(AppStateContext);\r\n  return (\r\n    <View style={styles.web_appContainer}>\r\n      <StatusBar />\r\n      <ScrollView style={styles.web_usersContainer}>\r\n        {\r\n          Object.keys(users).map((user, index) => {\r\n            const [inputText, setInputText] = useState(\"\");\r\n            const [insertingPasswd, setInsertingPasswd] = useState(false);\r\n            const [buttonState, setButtonState] = useState(false);   \r\n            useEffect(() => {\r\n              if(users[user].logs) {\r\n                users[user].logs[Object.keys(users[user].logs)[(Object.keys(users[user].logs).length - 1)]] == \"Entrou\" ? setButtonState(true) : setButtonState(false);\r\n              }\r\n            }, [users])        \r\n            return (\r\n              <View style={styles.web_userView} key={index}>\r\n                {insertingPasswd &&\r\n                  <View style={styles.web_buttonContainerAndInput}>\r\n                    <View style={styles.web_passwdInputContainer}>\r\n                      <TextInput style={styles.web_passwdInput} secureTextEntry onChangeText={(text) => setInputText(text)}>\r\n                      </TextInput>\r\n\r\n                    </View>\r\n                    <View style={{ display: 'flex', flex: 1 }}>\r\n                      <TouchableOpacity style={styles.web_confirmInputContainer} onPress={() => {\r\n                        firebase.auth().signInWithEmailAndPassword(user.toLowerCase() + \"@log-my-work.pt\", inputText + \"99\")\r\n                          .then(() => {\r\n                            if (users[user].admin) {\r\n                              navigation.push(\"Admin\")\r\n\r\n                            }\r\n                            //else{\r\n                            //  firebase.database().ref(\"users/\" + user + \"/logs/\" + Date.now()).set(\r\n                            //    buttonState ? \"Saiu\" : \"Entrou\" \r\n                            //  );\r\n                            //  buttonState ? setButtonState(false) :  setButtonState(true);\r\n                            //}\r\n                            setInsertingPasswd(false);\r\n                            setInputText('');\r\n                          })\r\n                          .catch((res) => { console.log(res) });\r\n                      }} >\r\n                        <View style={styles.web_confirmInput} >\r\n                          <Text style={styles.web_buttonText} numberOfLines={1} >Confirmar</Text>\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                      <TouchableOpacity style={styles.web_cancelInputContainer} onPress={() => setInsertingPasswd(false)}>\r\n                        <View style={styles.web_cancelInput} >\r\n                          <Text style={styles.web_buttonText} numberOfLines={1} >Cancelar</Text>\r\n                        </View>\r\n                      </TouchableOpacity>\r\n                    </View>\r\n                  </View>\r\n\r\n                }\r\n                {!insertingPasswd &&\r\n                  <View style={styles.web_buttonContainerContainer}>\r\n                    <TouchableOpacity style={[styles.web_buttonContainer, {\r\n                      backgroundColor: users[user].admin ? \"#7E7E7E\" : buttonState ?   \"#14CE95\" : \"#EB5C52\"\r\n                    }]} onPress={() => {\r\n                      insertingPasswd ? setInsertingPasswd(false) : setInsertingPasswd(true)\r\n                    }}>\r\n                      <View>\r\n                        <Text style={styles.web_usernameText}>{user}</Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  </View>\r\n                }\r\n              </View>\r\n            );\r\n          })\r\n        }\r\n      </ScrollView>\r\n    </View>\r\n\r\n\r\n  );\r\n}\r\nconst styles = StyleSheet.create({\r\n  web_appContainer: {\r\n    backgroundColor: '#000',\r\n    flexGrow: 1,\r\n    justifyContent: 'center',\r\n    alignContent: 'center',\r\n  },\r\n  web_usersContainer: {\r\n    backgroundColor: '#313131',\r\n    padding: 10,\r\n  },\r\n  web_userView: {\r\n    display: 'flex',\r\n    flex: 1,\r\n    justifyContent: 'space-between',\r\n    alignContent: 'space-between',\r\n  },\r\n  web_usernameText: {\r\n    color: \"#fff\",\r\n    textAlign: 'center',\r\n    fontSize: 30\r\n  },\r\n  web_buttonContainer: {\r\n    flex: 1,\r\n    padding: 20,\r\n    borderRadius: 10,\r\n    justifyContent: 'center',\r\n    alignContent: 'center'\r\n  },\r\n  web_buttonContainerContainer: {\r\n\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    padding: 11.5,\r\n  },\r\n  web_buttonContainerAndInput: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    padding: 20,\r\n    justifyContent: 'center',\r\n    alignContent: 'center'\r\n  },\r\n  web_timestampView: {\r\n    padding: 10,\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between'\r\n  },\r\n  web_timestampContainer: {\r\n\r\n  },\r\n  web_logStateContainer: {\r\n  },\r\n  web_passwdInput: {\r\n    flex: 1,\r\n    borderColor: 'white',\r\n    overflow: 'hidden',\r\n    borderRadius: 10,\r\n    borderWidth: 1,\r\n    backgroundColor: '#252525',\r\n    color: '#FFF',\r\n    fontSize: 20,\r\n  },\r\n  web_passwdInputContainer: {\r\n    justifyContent: 'space-between',\r\n    alignContent: 'space-between',\r\n    flexDirection: 'row',\r\n    flex: 1\r\n  },\r\n  web_cancelInputContainer: {\r\n    flex: 1,\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 2\r\n  },\r\n  web_cancelInput: {\r\n    flex: 1,\r\n    backgroundColor: \"#EB5C52\", \r\n    alignContent: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 15,\r\n\r\n\r\n  },\r\n  web_confirmInputContainer: {\r\n    flex: 1,\r\n    paddingHorizontal: 20,\r\n    paddingVertical: 2\r\n  },\r\n  web_confirmInput: {\r\n    flex: 1,\r\n    backgroundColor: \"#14CE95\", //\r\n    alignContent: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 15,\r\n  },\r\n  web_buttonText: {\r\n    color: \"#fff\",\r\n    textAlign: 'center',\r\n    fontSize: 20\r\n  },\r\n});\r\n","import React, { useState, useEffect, useContext } from 'react';\r\nimport { Platform, Alert, TextInput, StyleSheet, KeyboardAvoidingView, Text, ScrollView, StatusBar, View, TouchableOpacity } from 'react-native';\r\n//import firebase from 'firebase/app';\r\nimport App from './screens/mobileApp';\r\nimport WebApp from './screens/webApp';\r\nimport { NavigationContainer } from '@react-navigation/native';\r\nimport { createStackNavigator, HeaderBackButton } from '@react-navigation/stack';\r\nimport { createContext } from 'react';\r\nimport { firebaseConfig } from './firebaseConfig';\r\nimport firebase from 'firebase'\r\nimport {reloadAsync} from 'expo-updates'\r\nimport { Restart } from 'fiction-expo-restart';\r\n//export var firebase = require('firebase/app');\r\n//require('firebase/database');\r\n\r\n\r\nif (!firebase.apps.length) {\r\n  firebase.initializeApp(firebaseConfig);\r\n} else {\r\n  firebase.app(); // if already initialized, use that one\r\n}\r\n\r\nconst Stack = createStackNavigator();\r\n\r\nexport const AppStateContext = React.createContext({});\r\nexport default function AppWrapper() {\r\n  const [users, setUsers] = useState(null);\r\n  const [usersCount, setUsersCount] = useState(0);\r\n  useEffect(() => {\r\n    firebase.database().ref(\"users\").on('value', (res, b) => {\r\n      if (usersCount == 0) setUsersCount(Object.keys(res.val()).length);\r\n      setUsers(res.val());\r\n    });\r\n\r\n  }, []);\r\n  if (!users) return (<View></View>);\r\n  console.log(Object.keys(users).length, usersCount)\r\n  if (Object.keys(users).length != usersCount)\r\n    Restart();\r\n  return (\r\n    <AppStateContext.Provider value={users}>\r\n      <NavigationContainer >\r\n        <Stack.Navigator>\r\n          {Platform.OS !== \"web\" &&\r\n            <Stack.Screen name=\"Home\" component={App} options={{\r\n              title: 'Registo produção Hoterway',\r\n              headerStyle: {\r\n                backgroundColor: '#464646',\r\n              },\r\n              headerTintColor: '#FFF'\r\n            }} />\r\n          }\r\n          {Platform.OS === \"web\" &&\r\n            <Stack.Screen name=\"Home\" component={WebApp} options={{\r\n              title: 'Registo produção Hoterway',\r\n              headerTitleStyle: { alignSelf: 'center' },\r\n              headerStyle: {\r\n                backgroundColor: '#464646',\r\n              },\r\n              headerTintColor: '#FFF',\r\n            }} />\r\n          }\r\n          <Stack.Screen name=\"Admin\" component={Admin} options={{\r\n            title: 'Admin',\r\n            headerTitleStyle: { alignSelf: 'center' },\r\n            headerBackTitle: 'Logout',\r\n            headerStyle: {\r\n              backgroundColor: '#464646',\r\n            },\r\n            headerTitleContainerStyle: {\r\n              left: 0, // THIS RIGHT HERE\r\n            },\r\n            headerTintColor: '#FFF',\r\n          }} />\r\n          <Stack.Screen name=\"AdminUserDays\" component={AdminUserDays} options={{\r\n            title: 'Dias de Trabalho',\r\n            headerTitleStyle: { alignSelf: 'center' },\r\n            headerStyle: {\r\n              backgroundColor: '#464646',\r\n            },\r\n            \r\n            headerTitleContainerStyle: {\r\n              left: 0, // THIS RIGHT HERE\r\n            },\r\n            headerTintColor: '#FFF'\r\n          }} />\r\n          <Stack.Screen name=\"AdminUserDay\" component={AdminUserDay} options={{\r\n            title: 'Log do Dia',\r\n            headerTitleStyle: { alignSelf: 'center' },\r\n            headerStyle: {\r\n              backgroundColor: '#464646',\r\n            },\r\n            \r\n            headerTitleContainerStyle: {\r\n              left: 0, // THIS RIGHT HERE\r\n            },\r\n            headerTintColor: '#FFF'\r\n          }} />\r\n          <Stack.Screen name=\"AdminAddUser\" component={AdminAddUser} options={{\r\n            title: 'Adicionar User',\r\n            headerTitleStyle: { alignSelf: 'center' },\r\n            headerStyle: {\r\n              backgroundColor: '#464646',\r\n            },\r\n            \r\n            headerTitleContainerStyle: {\r\n              left: 0, // THIS RIGHT HERE\r\n            },\r\n            headerTintColor: '#FFF'\r\n          }} />\r\n        </Stack.Navigator>\r\n      </NavigationContainer>\r\n    </AppStateContext.Provider>\r\n  );\r\n}\r\n\r\nexport function AdminUserDays({ navigation, route }) {\r\n  const users = useContext(AppStateContext);\r\n  if (!users) return (\r\n    <View style={styles.appContainer}>\r\n      <StatusBar />\r\n      <View style={styles.timestampView}>\r\n        <Text style={styles.usernameText}>Loading...</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n  const username = route.params.username;\r\n  if (!users[username].logs) return (\r\n    <View style={styles.appContainer}>\r\n      <StatusBar />\r\n      <View style={styles.timestampView}>\r\n        <Text style={styles.usernameText}>Não existem logs para o user {username}!</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n  const timestamps = Object.keys(users[username].logs)\r\n  let lastDay = \"0\";\r\n  const daysArray = [];\r\n  for (let timestamp of timestamps) {\r\n    const lastDayDate = new Date(parseInt(lastDay))\r\n    const timestampDate = new Date(parseInt(timestamp));\r\n\r\n    if (timestampDate.getDate() != lastDayDate.getDate() ||\r\n      timestampDate.getMonth() != lastDayDate.getMonth() ||\r\n      timestampDate.getFullYear() != lastDayDate.getFullYear()) {\r\n      lastDay = timestamp;\r\n      daysArray.push(timestampDate)\r\n    }\r\n  }\r\n  daysArray.reverse();\r\n  return (\r\n    <View style={styles.appContainer}>\r\n      <StatusBar />\r\n      <View style={styles.userView}>\r\n        <Text style={styles.usernameText}>{username}</Text>\r\n        <ScrollView style={styles.usersContainer}>{\r\n          daysArray.map((day, index) => {\r\n            return (\r\n              <View style={styles.web_buttonContainerContainer} key={index}>\r\n                <TouchableOpacity style={[styles.web_buttonContainer, {\r\n                  backgroundColor: \"#EB5C52\",\r\n                  flex: 1\r\n                }]} onPress={() => {\r\n                  navigation.push(\"AdminUserDay\", { username, day: day.getTime() })\r\n                }}>\r\n                  <View>\r\n                    <Text style={styles.web_usernameText}>{day.toLocaleDateString()}</Text>\r\n                  </View>\r\n                </TouchableOpacity>\r\n              </View>\r\n            );\r\n          })\r\n        }</ScrollView>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nexport function AdminUserDay({ route }) {\r\n  const users = useContext(AppStateContext);\r\n  if (!users) return (\r\n    <View style={styles.appContainer}>\r\n      <StatusBar />\r\n      <View style={styles.timestampView}>\r\n        <Text style={styles.usernameText}>Loading...</Text>\r\n      </View>\r\n    </View>\r\n  );\r\n  const username = route.params.username;\r\n  const day = new Date(parseInt(route.params.day));\r\n  return (\r\n    <View style={styles.appContainer}>\r\n      <StatusBar />\r\n      <View style={styles.userView}>\r\n        <Text style={styles.usernameText}>{username}</Text>\r\n        <ScrollView style={styles.usersContainer}>{\r\n          Object.keys(users[username].logs).filter((timestamp) => {\r\n            const timestampDate = new Date(parseInt(timestamp));\r\n            console.log(timestampDate.getDate() + \" == \" + day.getDate())\r\n            return ((timestampDate.getDate() == day.getDate() &&\r\n              timestampDate.getMonth() == day.getMonth() &&\r\n              timestampDate.getFullYear() == day.getFullYear())\r\n            )\r\n          }).map((timestamp, index, dayArray) => {\r\n            const interval = Math.abs(parseInt(timestamp) - parseInt(dayArray[index - 1]));\r\n            const hours = Math.floor(interval / 3.6e6);\r\n            const minutes = Math.floor(interval / 6e4) % 60;\r\n            const seconds = Math.floor(interval / 1000) % 60;\r\n            const timestampDate = new Date(parseInt(timestamp));\r\n            if (timestampDate.getDate() === day.getDate() &&\r\n              timestampDate.getMonth() === day.getMonth() &&\r\n              timestampDate.getFullYear() === day.getFullYear());\r\n            return (\r\n              <View key={index} style={styles.timestampViewContainer}>\r\n                <View style={styles.timestampView} >\r\n                  <View style={styles.logStateContainer}>\r\n                    <Text style={styles.usernameText}>{users[username].logs[timestamp]}</Text>\r\n                  </View>\r\n                  <View style={styles.timestampContainer}>\r\n                    <Text style={styles.usernameText}>\r\n                      {new Date(parseInt(timestamp)).toDateString()}\r\n                    </Text>\r\n                    <Text style={styles.usernameText}>\r\n                      {new Date(parseInt(timestamp)).toLocaleTimeString()}\r\n                    </Text>\r\n                  </View>\r\n                </View>\r\n                {users[username].logs[timestamp] == \"Saiu\" &&\r\n                  <View style={[styles.timestampDiffView, {\r\n                    borderBottomWidth: 10,\r\n                    borderBottomColor: '#EB5C52',\r\n\r\n                  }]}>\r\n                    <Text style={styles.workHoursText} >\r\n                      Tempo de trabalho (hh : mm : ss)\r\n                    </Text>\r\n                    <Text style={styles.workHoursText} >\r\n                      {hours < 10 ? '0' + hours : hours} : {minutes < 10 ? '0' + minutes : minutes} : {seconds < 10 ? '0' + seconds : seconds}\r\n                    </Text>\r\n                  </View>\r\n                }\r\n\r\n              </View>\r\n\r\n            );\r\n          }\r\n          )\r\n        }</ScrollView>\r\n      </View>\r\n    </View>\r\n  );\r\n}\r\n\r\nexport function Admin({ navigation }) {\r\n  const users = useContext(AppStateContext);\r\n  React.useLayoutEffect(() => {\r\n    navigation.setOptions({\r\n      headerLeft: ()=>( <HeaderBackButton onPress={ ()=>{\r\n        firebase.auth().signOut();\r\n        navigation.goBack();\r\n      }}/>)\r\n    });\r\n  }, [navigation]);\r\n  if (users == null)\r\n    return (\r\n      <View style={styles.appContainer}>\r\n        <StatusBar />\r\n        <Text style={styles.usernameText}>Loading....</Text>\r\n      </View>\r\n    );\r\n  else\r\n    return (\r\n      <View style={styles.appContainer}>\r\n        <StatusBar />\r\n        <View style={styles.userView}>\r\n          <ScrollView style={styles.usersContainer}>{\r\n            Object.keys(users).filter((username) => {\r\n              return !users[username].admin;\r\n            }).map((username, index) => {\r\n              return (\r\n                  <View style={styles.web_buttonContainerContainer} key={index}>\r\n                    <TouchableOpacity style={[styles.web_buttonContainer, {\r\n                      backgroundColor: \"#EB5C52\",\r\n                      flex: 1\r\n                    }]} onPress={() => {\r\n                      navigation.push('AdminUserDays', { username })\r\n                    }}>\r\n                      <View>\r\n                        <Text style={styles.web_usernameText}>{username}</Text>\r\n                      </View>\r\n                    </TouchableOpacity>\r\n                  </View>\r\n              );\r\n            })\r\n          }\r\n            {//Platform.OS !== \"web\" &&\r\n                <View style={styles.web_buttonContainerContainer}>\r\n                  <TouchableOpacity style={[styles.web_buttonContainer, {\r\n                    backgroundColor: \"#14CE95\",\r\n                    flex: 1\r\n                  }]} onPress={() => {\r\n                    navigation.push('AdminAddUser')\r\n                  }}>\r\n                    <View>\r\n                      <Text style={styles.web_usernameText}>Adicionar Utilizador</Text>\r\n                    </View>\r\n                  </TouchableOpacity>\r\n                </View>\r\n            }\r\n          </ScrollView>\r\n        </View>\r\n      </View>\r\n    );\r\n}\r\n\r\nfunction AdminAddUser() {\r\n  const [done, setDone] = useState(false)\r\n  const [username, setUsername] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  return (\r\n    <KeyboardAvoidingView style={{ flex: 1 }} behavior=\"padding\">\r\n      <View style={styles.registerContainer}>\r\n        <View style={styles.userView}>\r\n          <Text style={styles.usernameText}>Introduza as credenciais:</Text>\r\n        </View>\r\n        <View style={{\r\n          display: 'flex'\r\n        }}>\r\n          <View style={[{\r\n            paddingHorizontal: 20,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n          }]}>\r\n            <Text style={styles.usernameText}>Nome</Text>\r\n            <TextInput style={styles.web_passwdInput} onChangeText={(text) => setUsername(text)}>\r\n            </TextInput>\r\n          </View>\r\n          <View style={[{\r\n            paddingHorizontal: 20,\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            paddingBottom: 10\r\n          }]}>\r\n            <Text style={styles.usernameText}>Password</Text>\r\n            <TextInput style={styles.web_passwdInput} secureTextEntry onChangeText={(text) => setPassword(text)}>\r\n            </TextInput>\r\n          </View>\r\n        </View>\r\n        <View style={styles.userView}>\r\n          <TouchableOpacity style={[styles.web_buttonContainer, {\r\n            backgroundColor: done ? \"#14CE95\" : \"#EB5C52\",\r\n          }]} onPress={() => {\r\n            if (username !== \"\" && password.length > 3) {\r\n              firebase.auth().createUserWithEmailAndPassword(username + \"@log-my-work.pt\", password + \"99\");\r\n              firebase.database().ref('users/' + username).set({\r\n                admin: false,\r\n                uid: null\r\n              })\r\n              setTimeout(Restart(), 50);\r\n            }\r\n            \r\n\r\n          }}>\r\n            <View>\r\n              <Text style={styles.usernameText}>Adicionar!</Text>\r\n            </View>\r\n          </TouchableOpacity>\r\n        </View>\r\n      </View>\r\n    </KeyboardAvoidingView>\r\n  );\r\n}\r\n\r\nconst styles = StyleSheet.create({\r\n  appContainer: {\r\n    display: 'flex',\r\n    flexGrow: 1,\r\n    backgroundColor: '#313131',\r\n  },\r\n  registerContainer: {\r\n    flexGrow: 1,\r\n    display: 'flex',\r\n    alignContent: 'center',\r\n    backgroundColor: '#313131',\r\n  },\r\n  usersContainer: {\r\n    display: 'flex',\r\n    flexGrow: 1,\r\n    backgroundColor: '#313131',\r\n  },\r\n  userView: {\r\n    padding: 10,\r\n  },\r\n  usernameText: {\r\n    color: \"#fff\",\r\n    textAlign: 'center',\r\n  },\r\n  buttonContainer: {\r\n    padding: 20,\r\n    borderRadius: 10,\r\n    justifyContent: 'center',\r\n    alignContent: 'center'\r\n  },\r\n  timestampView: {\r\n    padding: 10,\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between'\r\n  },\r\n  timestampDiffView: {\r\n    padding: 10,\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'center'\r\n  },\r\n  timestampContainer: {\r\n\r\n  },\r\n  logStateContainer: {\r\n  },\r\n\r\n\r\n  web_appContainer: {\r\n    backgroundColor: '#000',\r\n    flexGrow: 1,\r\n    justifyContent: 'center',\r\n    alignContent: 'center',\r\n    maxHeight: 800\r\n  },\r\n  web_usersContainer: {\r\n    backgroundColor: '#000',\r\n  },\r\n  web_userView: {\r\n    display: 'flex',\r\n    flex: 1,\r\n    padding: 10,\r\n    justifyContent: 'space-between',\r\n    alignContent: 'space-between',\r\n  },\r\n  web_usernameText: {\r\n    color: \"#fff\",\r\n    textAlign: 'center',\r\n    fontSize: 30\r\n  },\r\n  web_buttonContainer: {\r\n    padding: 15,\r\n    borderRadius: 10,\r\n    justifyContent: 'center',\r\n    alignContent: 'center'\r\n  },\r\n  web_buttonContainerContainer: {\r\n\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    padding: 11.5,\r\n  },\r\n  web_timestampView: {\r\n    padding: 10,\r\n    flex: 1,\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between'\r\n  },\r\n  web_timestampContainer: {\r\n\r\n  },\r\n  web_logStateContainer: {\r\n  },\r\n  web_passwdInput: {\r\n    borderColor: 'white',\r\n    borderWidth: 1,\r\n    overflow: 'hidden',\r\n    borderRadius: 10,\r\n    color: '#FFF',\r\n    fontSize: 20,\r\n    marginTop: 5\r\n  },\r\n  web_passwdInputContainer: {\r\n    justifyContent: 'space-between',\r\n    alignContent: 'space-between',\r\n    flexDirection: 'column',\r\n    display: 'flex',\r\n  },\r\n  web_cancelInputContainer: {\r\n    flex: 1,\r\n    backgroundColor: 'red',\r\n    alignContent: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 15,\r\n    paddingHorizontal: 40,\r\n    paddingVertical: 6,\r\n  },\r\n  web_cancelInput: {\r\n    backgroundColor: 'red'\r\n\r\n  },\r\n  web_confirmInputContainer: {\r\n    flex: 1,\r\n    backgroundColor: 'green',\r\n    alignContent: 'center',\r\n    justifyContent: 'center',\r\n    borderRadius: 15,\r\n    paddingHorizontal: 40,\r\n    paddingVertical: 6,\r\n  },\r\n  web_confirmInput: {\r\n    backgroundColor: 'green'\r\n  },\r\n  web_buttonText: {\r\n    color: \"#fff\",\r\n    textAlign: 'center',\r\n    fontSize: 12\r\n  },\r\n  workHoursText: {\r\n    color: \"#fff\",\r\n    textAlign: 'center',\r\n  }\r\n});\r\n","\r\nexport const firebaseConfig = {\r\n  apiKey: \"AIzaSyA9MV-PgCXfWhnGt-FRHlVIzlvUuRhVmRc\",\r\n  authDomain: \"log-my-work-8db34.firebaseapp.com\",\r\n  databaseURL: \"https://log-my-work-8db34-default-rtdb.firebaseio.com\",\r\n  projectId: \"log-my-work-8db34\",\r\n  storageBucket: \"log-my-work-8db34.appspot.com\",\r\n  messagingSenderId: \"721021340350\",\r\n  appId: \"1:721021340350:web:75b15661f04266d863ecef\",\r\n  measurementId: \"G-86K99VSDRW\"\r\n};\r\n"],"sourceRoot":""}